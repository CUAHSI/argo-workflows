metadata:
  name: subsetter-dataset-pvc
  namespace: workflows
spec:
  templates:
  - name: generate-volume
    resource:
      action: create
      setOwnerReference: true
      manifest: |
        apiVersion: v1
        kind: PersistentVolumeClaim
        metadata:
          generateName: subsetter-dataset-pvc-
        spec:
          storageClassName: manual
          accessModes: 
          - ReadOnlyMany
          resources:
            requests:
              storage: 20Gi
    outputs:
      parameters:
        - name: pvc-name
          valueFrom:
            jsonPath: '{.metadata.name}'
  entrypoint: generate-volume
  templateDefaults:
    inputs: {}
    outputs: {}
    metadata: {}
    retryStrategy:
      limit: '0'
    timeout: 3600s
